<mat-card class="dashboard-card welcome-card">
  <mat-card-header>
    <mat-card-title>Bem-vindo ao Sistema de Reserva de Estúdio</mat-card-title>
    <mat-card-subtitle>Gerencie suas reservas e cadastros facilmente</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <p>
      Use o menu lateral para navegar entre as funcionalidades:
    </p>
    <ul>
      <li><strong>Estúdios:</strong> Gerencie seus estúdios disponíveis para reserva</li>
      <li><strong>Clientes:</strong> Cadastre e visualize seus clientes</li>
      <li><strong>Produtos:</strong> Controle equipamentos e itens disponíveis</li>
      <li><strong>Formas de Pagamento:</strong> Configure os métodos de pagamento</li>
    </ul>

    <button mat-raised-button color="primary" (click)="criarReservaRapida()" style="margin-top: 16px;">
      <mat-icon>add</mat-icon> Criar Reserva Rápida
    </button>
  </mat-card-content>
</mat-card>

<div class="dashboard-main-content">

  <div class="dashboard-cards-container">
    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-icon>event_available</mat-icon>
        <mat-card-title>Reservas Ativas</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <h2>{{ reservasAtivas }}</h2>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-icon>people</mat-icon>
        <mat-card-title>Clientes Cadastrados</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <h2>{{ clientesCadastrados }}</h2>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-icon>business</mat-icon>
        <mat-card-title>Estúdios Disponíveis</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <h2>{{ estudiosDisponiveis }}</h2>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-icon>inventory_2</mat-icon>
        <mat-card-title>Produtos Cadastrados</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <h2>{{ produtosCadastrados }}</h2>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-icon>payment</mat-icon>
        <mat-card-title>Formas de Pagamento</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <h2>{{ formasPagamento }}</h2>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Tabela de próximas reservas abaixo dos cards -->
  <mat-card class="dashboard-card upcoming-reservas">
    <mat-card-header>
      <mat-icon>schedule</mat-icon>
      <mat-card-title>Próximas Reservas</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <table mat-table [dataSource]="proximasReservas" class="mat-elevation-z8">

        <ng-container matColumnDef="cliente">
          <th mat-header-cell *matHeaderCellDef>Cliente</th>
          <td mat-cell *matCellDef="let reserva">{{ reserva.cliente }}</td>
        </ng-container>

        <ng-container matColumnDef="estudio">
          <th mat-header-cell *matHeaderCellDef>Estúdio</th>
          <td mat-cell *matCellDef="let reserva">{{ reserva.estudio }}</td>
        </ng-container>

        <ng-container matColumnDef="data">
          <th mat-header-cell *matHeaderCellDef>Data</th>
          <td mat-cell *matCellDef="let reserva">{{ reserva.data }}</td>
        </ng-container>

        <ng-container matColumnDef="horario">
          <th mat-header-cell *matHeaderCellDef>Horário</th>
          <td mat-cell *matCellDef="let reserva">{{ reserva.horario }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="['cliente', 'estudio', 'data', 'horario']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['cliente', 'estudio', 'data', 'horario']"></tr>
      </table>
    </mat-card-content>
  </mat-card>

  <!-- Gráfico com ngx-charts -->
  <mat-card class="dashboard-card chart-card">
    <mat-card-header>
      <mat-icon>bar_chart</mat-icon>
      <mat-card-title>Reservas por Mês</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <ngx-charts-bar-vertical
        [view]="view"
        [results]="reservasPorMes"
        [gradient]="false"
        [xAxis]="true"
        [yAxis]="true"
        [legend]="false"
        [showDataLabel]="true">
      </ngx-charts-bar-vertical>
    </mat-card-content>
  </mat-card>

</div>
